### This file was generated by Nexus Schema
### Do not make changes to this file directly

type ActivityLog {
  action: String!
  actorId: String
  createdAt: Date
  errorCode: String
  errorMessage: String
  id: String!
  inputModel: String!
  inputModelId: String!
  message: String
  outputModel: String
  outputModelId: String
}

type AvailableBudgetDates {
  months: [Int]!
  year: Int!
}

type Budget {
  amount: Float!
  balance(month: Int, year: Int): Float
  category: Category!
  createdAt: DateTime
  id: String!
  isRecurring: Boolean!
  month: Int
  name: String!
  recurringStartDate: DateTime
  transactions(month: Int, year: Int): [Transaction]
  updatedAt: DateTime
  user: User!
  year: Int
}

type BudgetExpensesControl {
  amount: Float!
  expenses: Float!
  month: Int!
}

type CashFlow {
  expenses: Float!
  incomes: Float!
  month: Int!
}

enum Category {
  CLOTHING
  DEBT_PAYMENTS
  EDUCATION
  ENTERTAINMENT
  FOOD_AND_GROCERIES
  GIFTS_AND_DONATIONS
  HEALTHCARE
  HOUSING_AND_RENT
  INSURANCE
  MISCELLANEOUS
  PERSONAL_CARE
  RESTAURANTS_AND_DINING
  SAVINGS_AND_INVESTMENTS
  TAXES
  TRANSPORTATION
  TRAVEL
  UTILITIES
}

enum Currency {
  EUR
  USD
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

type Debt {
  createdAt: DateTime
  id: String!
  interestAmount: Float
  interestRate: Float!
  interestType: InterestType!
  name: String!
  paymentYears: Int!
  remainingDebt: Float
  startDate: DateTime!
  totalAmount: Float!
  totalDebtAmount: Float
  totalPaidAmount: Float
  transactions: [Transaction]
  updatedAt: DateTime
  user: User!
}

type DebtControl {
  actualAmount: Float
  estimatedAmount: Float!
  year: Int
}

type ExpensesByCategory {
  category: Category!
  total: Float!
}

enum Gender {
  FEMALE
  MALE
  NO_BINARY
}

enum IncomeType {
  BUSINESS
  FREELANCE
  GIFTS
  GOVERNMENT_BENEFITS
  INVESTMENT
  OTHER
  PENSION
  RENTAL
  SALARY
}

enum InterestType {
  TAE
  TIN
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON
  @specifiedBy(
    url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf"
  )

type LoginResponse {
  token: String
  user: User
}

type Mutation {
  _registerActivityLog(
    action: String!
    errorCode: String
    errorMessage: String
    inputModel: String!
    inputModelId: String!
    message: String
    outputModel: String
    outputModelId: String
  ): ActivityLog
  changeUserPassword(newPassword: String!, userId: String!): Boolean
  createBudget(
    amount: Float!
    category: Category!
    isRecurring: Boolean!
    name: String!
    recurringStartDate: DateTime
    userId: String!
  ): Budget
  createDebt(
    interestRate: Float!
    interestType: InterestType!
    name: String!
    paymentYears: Int!
    startDate: DateTime!
    totalAmount: Float!
    userId: String!
  ): Debt
  createTransaction(
    amount: Float!
    budgetId: String
    category: Category
    date: DateTime!
    debtId: String
    description: String
    incomeType: IncomeType
    name: String!
    type: TransactionType!
    userId: String!
  ): Transaction
  deleteBudget(budgetId: String!, userId: String!): Boolean
  deleteDebt(debtId: String!, userId: String!): Boolean
  deleteTransaction(transactionId: String!, userId: String!): Boolean
  login(email: String!, password: String!): LoginResponse
  registerUser(
    email: String!
    newsletter: Boolean
    password: String!
  ): RegisterResponse
  renewToken: String
  requestResetPassword(email: String!): Boolean
  requestUserDelete(password: String!): Boolean
  resetPassword(newPassword: String!, oldPassword: String!): Boolean
  resetPasswordWithToken(newPassword: String!, token: String!): Boolean
  updateDebt(
    debtId: String!
    interestRate: Float
    interestType: InterestType
    name: String
    paymentYears: Int
    startDate: DateTime
    totalAmount: Float
    userId: String!
  ): Debt
  updateTransaction(
    amount: Float
    budgetId: String
    category: Category
    date: DateTime
    debtId: String
    description: String
    incomeType: IncomeType
    name: String
    transactionId: String!
    type: TransactionType
    userId: String!
  ): Transaction
  updateUser(
    birthday: Date
    currency: Currency
    gender: Gender
    lastname: String
    name: String
    newsletterOptIn: Boolean
  ): User
}

type Query {
  _canDoAction(requiredPermissions: [String]!, userId: String!): Boolean
  getAvailableBudgetDates(userId: String!): [AvailableBudgetDates]
  getBudget(budgetId: String!, month: Int, userId: String!, year: Int): Budget
  getBudgetExpensesControl(
    budgetId: String!
    userId: String!
  ): [BudgetExpensesControl]
  getBudgets(month: Int, userId: String!, year: Int): [Budget]
  getCashFlow(userId: String!): [CashFlow]
  getDebt(debtId: String!, userId: String!): Debt
  getDebtControl(debtId: String!, userId: String!): [DebtControl]
  getDebts(userId: String!): [Debt]
  getExpensesByCategory(
    month: Int!
    userId: String!
    year: Int!
  ): [ExpensesByCategory]
  getTransaction(transactionId: String!): Transaction
  getTransactions(
    limit: Int = 25
    orderBy: String = "asc"
    page: Int = 0
    searchTerm: String
    type: TransactionType
    userId: String!
  ): TransactionsResponse
  me(appId: String): User
}

type RegisterResponse {
  token: String
  user: User
}

type Transaction {
  amount: Float!
  budget: Budget
  category: Category
  createdAt: DateTime
  date: DateTime!
  debt: Debt
  description: String
  id: String!
  incomeType: IncomeType
  month: Int!
  name: String!
  type: TransactionType!
  updatedAt: DateTime
  user: User!
  year: Int!
}

enum TransactionType {
  DEBT
  EXPENSE
  INCOME
}

type TransactionsResponse {
  pageSize: Int!
  totalCount: Int!
  transactions: [Transaction]
}

type User {
  aclRole: UserRole
  birthday: Date
  createdAt: DateTime
  currency: Currency
  deletedAt: DateTime
  email: String
  gender: Gender
  id: String!
  lastname: String
  name: String
  newsletterOptIn: Boolean
  status: UserStatus
  updatedAt: DateTime
}

input UserCreateInput {
  aclRole: UserRole
  birthday: Date
  email: String!
  gender: Gender
  lastname: String
  name: String
  newsletterOptIn: Boolean
  status: UserStatus
}

enum UserRole {
  ADMIN
  USER
}

enum UserStatus {
  ACTIVE
  BANNED
  DELETED_BY_ADMIN
  DELETED_BY_USER
  INACTIVE
}
